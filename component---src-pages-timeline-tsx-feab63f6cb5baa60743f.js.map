{"version":3,"sources":["webpack:///./src/components/postTimeline/postTimeline.tsx","webpack:///./src/pages/timeline.tsx"],"names":["Year","year","posts","className","map","post","index","key","to","node","fields","slug","frontmatter","title","PostTimeline","useStaticQuery","allMarkdownRemark","edges","yearToPost","Map","postYears","date","years","Array","from","Set","set","postYear","get","push","Timeline","activePage","Col","md","xs"],"mappings":"4+BAYA,IAAMA,EAAO,SAAC,GAA+B,IAA7BC,EAA6B,EAA7BA,KAAMC,EAAuB,EAAvBA,MACpB,OACE,6BAASC,UAAU,QACjB,4BAAKF,GACL,iCACGC,EAAME,KAAI,SAACC,EAAMC,GAChB,OACE,wBAAIC,IAAKD,GACP,4BACE,kBAAC,OAAD,CAAME,GAAIH,EAAKI,KAAKC,OAAOC,MACxBN,EAAKI,KAAKG,YAAYC,eAiE1BC,EAtDM,WA+BnB,IA9BA,IAsBMZ,EAtBwBa,yBAAe,aAsB1BC,kBAAkBC,MAG/BC,EAAa,IAAIC,IACjBC,EAAYlB,EAAME,KAAI,SAAAC,GAC1B,OAAOA,EAAKI,KAAKG,YAAYS,QAEzBC,EAAQC,MAAMC,KAAK,IAAIC,IAAIL,IACjC,MAAmBE,EAAnB,eAA0B,CAArB,IAAMrB,EAAI,KACbiB,EAAWQ,IAAIzB,EAAM,IAIvB,cAAmBC,KAAnB,aAA0B,KAAfG,EAAe,QAClBsB,EAAWtB,EAAKI,KAAKG,YAAYS,KAClCM,GAILT,EAAWU,IAAID,GAAUE,KAAKxB,GAGhC,OACE,yBAAKF,UAAU,yCACZmB,EAAMlB,KAAI,SAACH,EAAMK,GAChB,OAAO,kBAAC,EAAD,CAAML,KAAMA,EAAMC,MAAOgB,EAAWU,IAAI3B,GAAOM,IAAKD,SCjEpDwB,UAXE,WACf,OACE,kBAAC,IAAD,CAAQC,WAAW,YACjB,kBAACC,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,GAAI/B,UAAU,iBAC5B,wCACA,kBAAC,EAAD,U","file":"component---src-pages-timeline-tsx-feab63f6cb5baa60743f.js","sourcesContent":["import React from \"react\"\nimport { graphql, Link, useStaticQuery } from \"gatsby\"\nimport \"./postTimeline.scss\"\nimport { AllMarkdownType, PostType } from \"../../utils/graphqlTypes\"\n\ninterface YearProps {\n  year: string\n  posts: {\n    node: PostType\n  }[]\n}\n\nconst Year = ({ year, posts }: YearProps) => {\n  return (\n    <section className=\"year\">\n      <h3>{year}</h3>\n      <section>\n        {posts.map((post, index) => {\n          return (\n            <ul key={index}>\n              <li>\n                <Link to={post.node.fields.slug}>\n                  {post.node.frontmatter.title}\n                </Link>\n              </li>\n            </ul>\n          )\n        })}\n      </section>\n    </section>\n  )\n}\n\nconst PostTimeline = () => {\n  const data: AllMarkdownType = useStaticQuery(graphql`\n    query {\n      allMarkdownRemark(\n        filter: { frontmatter: { layout: { eq: \"post\" } } }\n        sort: { fields: [frontmatter___date], order: DESC }\n      ) {\n        edges {\n          node {\n            fields {\n              slug\n            }\n            frontmatter {\n              title\n              date(formatString: \"YYYY\")\n              categories\n            }\n          }\n        }\n      }\n    }\n  `)\n\n  const posts = data.allMarkdownRemark.edges\n\n  // Create mapping of years to posts within that year\n  const yearToPost = new Map()\n  const postYears = posts.map(post => {\n    return post.node.frontmatter.date\n  })\n  const years = Array.from(new Set(postYears))\n  for (const year of years) {\n    yearToPost.set(year, [])\n  }\n\n  // Filter all posts and add them to their respective year\n  for (const post of posts) {\n    const postYear = post.node.frontmatter.date\n    if (!postYear) {\n      continue\n    }\n\n    yearToPost.get(postYear).push(post)\n  }\n\n  return (\n    <div className=\"timeline position-relative m-2 m-md-4\">\n      {years.map((year, index) => {\n        return <Year year={year} posts={yearToPost.get(year)} key={index} />\n      })}\n    </div>\n  )\n}\n\nexport default PostTimeline\n","import React from \"react\"\nimport Layout from \"../components/layout/layout\"\nimport Col from \"react-bootstrap/Col\"\nimport PostTimeline from \"../components/postTimeline/postTimeline\"\n\nconst Timeline = () => {\n  return (\n    <Layout activePage=\"Timeline\">\n      <Col md={6} xs={12} className=\"p-md-4 p-xl-5\">\n        <h1>Timeline</h1>\n        <PostTimeline />\n      </Col>\n    </Layout>\n  )\n}\n\nexport default Timeline\n"],"sourceRoot":""}